import{r as s,b as e,j as d}from"./index.774ea3ea.js";import{l as A}from"./quill.snow.fbe9aed7.js";import{l as L,m as N}from"./index.esm.4a6b1e11.js";import{I as O}from"./ImageUploader.67ac82c5.js";import{F as r}from"./index.2fdd8f43.js";import{C as k}from"./index.debb8753.js";import{S as g}from"./index.f4539c3d.js";import{I as l}from"./index.39e4b2c8.js";import{B as z}from"./button.1c6eda25.js";import{m as P}from"./index.5b8b5984.js";import"./isEqual.4659e5de.js";import"./ImageUploaderApi.2df23edf.js";import"./apiConfig.2a32373e.js";import"./axios.0a901153.js";import"./config.54eb1656.js";import"./render.66f9535e.js";import"./useNotification.934e0e3b.js";import"./useMutation.esm.c151e619.js";import"./utils.esm.82fab7d4.js";import"./index.e54b3f24.js";import"./pickAttrs.087993c3.js";import"./useMergedState.18b5b371.js";import"./LoadingOutlined.732e1375.js";import"./useForceUpdate.0ca03680.js";import"./EyeOutlined.700862bb.js";import"./progress.df7fd1dd.js";import"./CheckOutlined.70cf6153.js";import"./index.26751f43.js";import"./motion.300408ad.js";import"./collapse.bedc836d.js";import"./index.d924cf53.js";import"./index.5f886e53.js";import"./useFlexGapSupport.f6cd5e9f.js";import"./PlusOutlined.4da0bfe2.js";import"./row.114180a0.js";import"./responsiveObserve.84e4b503.js";import"./Dropdown.9bafc5f9.js";import"./Overflow.bc908490.js";import"./index.40d7e5d1.js";import"./statusUtils.d5af00d6.js";import"./DownOutlined.719ce519.js";import"./SearchOutlined.16cec939.js";import"./PurePanel.f27248d0.js";import"./Compact.c162d62d.js";import"./index.0d78aa55.js";import"./TextArea.119a5545.js";const W="_search_inputs_lwrgz_1",j="_image_and_desc_lwrgz_17",D="_more_btn_lwrgz_31",B="_image_and_desc_close_lwrgz_37",o={search_inputs:W,image_and_desc:j,more_btn:D,image_and_desc_close:B};const Oe=({categories:h,products:y,setProducts:b})=>{const[m,n]=s.exports.useState(!0),[f,F]=s.exports.useState(!1),[p,x]=s.exports.useState(0),[C,c]=s.exports.useState(0),[u,I]=s.exports.useState({product_main_image_data:{},type_product_main_image_detailed:{},file_product_main_image_detailed:{},product_add_additional_image_data:{},type_product_add_additional_image_detailed:{},file_product_add_additional_image_detailed:{}}),[_]=r.useForm();let w=h.map(t=>({label:t.category,value:t.category_id}));const v=t=>{b([...y,{...t,...u,key:p,category_ids:T(t.category)}]),_.resetFields(),x(p+1),c(0)},S=t=>{console.log("Failed:",t)},M=[{label:"Active",value:"A"},{label:"Disabled",value:"D"},{label:"Hidden",value:"H"}],T=t=>{let i={};return t&&(t==null||t.map((a,q)=>{i[q]=a})),i};return e("div",{children:e(k,{children:d(r,{form:_,layout:"vertical",className:o.form,name:"basic",wrapperCol:{},autoComplete:"off",onFinish:v,onFinishFailed:S,initialValues:{status:"A"},children:[d("div",{className:o.search_inputs,children:[e(r.Item,{label:"Category",name:"category",style:{width:"200px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(g,{showSearch:!0,mode:"tags",placeholder:"Select a category",optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:w})}),e(r.Item,{id:"req",label:"Product name",name:"product",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Code",name:"product_code",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Price",name:"price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"List price",name:"list_price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"In stock",name:"amount",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"Status",name:"status",style:{width:"150px"},children:e(g,{showArrow:!0,optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:M})}),e(r.Item,{label:"More",children:m?e(N,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)}):e(L,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)})}),e("div",{className:o.action_buttons,children:e(r.Item,{children:e(z,{disabled:f,type:"primary",style:{marginTop:"25px"},htmlType:"submit",children:"Add"})})})]}),d("div",{className:m?o.image_and_desc:o.image_and_desc_close,children:[e(r.Item,{style:{width:"100%"},label:"Full description",name:"full_description",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(A,{theme:"snow"})}),e("div",{}),e(O,{message:P,uploadedImage:u,setUploadedImage:I,imageCount:C,setImageCount:c,Form:r,setLoading:F})]})]})})})};export{Oe as default};
