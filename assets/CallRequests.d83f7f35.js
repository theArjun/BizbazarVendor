import{r,j as q,b as s}from"./index.0eae6df2.js";import{C as E,c as j}from"./index.c2342435.js";import{a as l}from"./apicall.28ee9ed9.js";import{u as w}from"./useDebounce.2d8db3a6.js";import{B as n}from"./Breadcrumb.3e55c3b1.js";import"./axios.0a901153.js";import"./config.a608364a.js";import"./render.36f71972.js";import"./useNotification.b0fd12ef.js";import"./dropdown.04f8b523.js";import"./RightOutlined.44374471.js";import"./Dropdown.a44dcf86.js";import"./useMergedState.e128dcb1.js";import"./Overflow.0bb1c80c.js";import"./index.00b7436e.js";import"./motion.25de7d91.js";import"./isEqual.7557051f.js";import"./PurePanel.6b30b4ea.js";import"./index.a53e5976.js";import"./collapse.d7e28f1d.js";import"./button.bb92e4e7.js";import"./Compact.394e1fff.js";import"./LoadingOutlined.8c764613.js";import"./useFlexGapSupport.26f67e3e.js";import"./DownOutlined.0d88a6a7.js";const B="_container_15c7v_1",H={container:B},et=()=>{const[m,o]=r.exports.useState([]),[i,g]=r.exports.useState({}),[p,x]=r.exports.useState(!1),[S,b]=r.exports.useState([]),[R,a]=r.exports.useState(!1),c=r.exports.useRef(1),_=Object.values(i).join("");w(()=>{c.current=1,d()},1e3,[_]),r.exports.useEffect(()=>{var t;return(t=document.querySelector("#cancelreq > div > div.ant-table-body "))==null||t.addEventListener("scroll",u),()=>{var e;(e=document.querySelector("#cancelreq > div > div.ant-table-body "))==null||e.removeEventListener("scroll",u)}},[]);const u=t=>{const e=t.target.scrollTop+t.target.offsetHeight+100>t.target.scrollHeight;x(e)};r.exports.useEffect(()=>{d()},[]),r.exports.useEffect(()=>{y()},[]),r.exports.useEffect(()=>{!p||(c.current=c.current+1,C())},[p]);const y=async()=>{const t=await l({url:"statuses"});b(t.data.statuses)},d=async()=>{var e;a(!0);const t=await l({url:f(i)});t.status===200&&o((e=t==null?void 0:t.data)==null?void 0:e.call_requests),a(!1)},C=async()=>{a(!0);const t=await l({url:f(i)});t.status===200&&o(e=>{var h;return[...e,...(h=t==null?void 0:t.data)==null?void 0:h.call_requests]}),a(!1)},f=t=>{let e="call_requests?is_search=Y";return t!=null&&t.name&&(e=e+"&name="+t.name),t!=null&&t.phone&&(e=e+"&phone="+t.phone),t!=null&&t.id&&(e=e+"&id="+t.id),e+`&page=${c.current}&items_per_page=${50}`};return q("div",{className:H.container,children:[q(n,{children:[s(n.Item,{children:"Home"}),s(n.Item,{children:s("a",{href:"",children:"Orders"})}),s(n.Item,{children:"Call Requests"})]}),s(E,{callRequest:m,setCallRequest:o,setSearchValue:g}),s(j,{callRequest:m,setCallRequest:o,status:S,loading:R})]})};export{et as default};
