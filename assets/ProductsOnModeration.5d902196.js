import{r,j as L,b as c}from"./index.b239cc55.js";import{P as j,e as A}from"./index.b6374920.js";import{u as I}from"./ProductApi.eb176513.js";import{u as k}from"./useDebounce.d6117fcd.js";import"./apiConfig.446075fe.js";import"./axios.0a901153.js";import"./config.79883511.js";import"./render.1622182d.js";import"./useNotification.49a3f20c.js";import"./useMutation.esm.61ea1354.js";import"./utils.esm.408cb86b.js";import"./useInfiniteQuery.esm.0432f70d.js";import"./useQuery.esm.3c1c4f21.js";const C="_heading_1a19l_1",u={heading:C},E={product_name:"",price_from:"",price_to:"",category:"",status:"R",sort_order:"",sort_by:""},K=()=>{const[l,f]=r.exports.useState([]),[d,g]=r.exports.useState(!1),[t,h]=r.exports.useState(""),[x,P]=r.exports.useState(""),[i,n]=r.exports.useState(E),{data:a,isLoading:S,isFetchingNextPage:_,fetchNextPage:b}=I(i),N=e=>{const s=e.target.scrollTop+e.target.offsetHeight+100>e.target.scrollHeight;g(s)};return r.exports.useEffect(()=>{var s;let e=[];(s=a==null?void 0:a.pages)==null||s.map(o=>{var p,m;(m=(p=o==null?void 0:o.data)==null?void 0:p.products)==null||m.map(T=>{e.push(T)})}),f(e||[])},[a]),r.exports.useEffect(()=>{let e={...i};if(t!=null&&t.order){const s=(t==null?void 0:t.order)==="ascend"?"asc":"desc";e.sort_order=s;let o="";switch(t==null?void 0:t.field){case"price":o="price";break;case"amount":o="amount";break}(t==null?void 0:t.field[1])==="product"&&(o="product"),e.sort_by=o}n(e)},[t]),k(()=>{!d||b()},300,[d]),L("div",{className:u.container,children:[c("div",{className:u.heading,children:c("div",{children:"Products on moderation"})}),c(j,{params:i,hasStatus:!0,setParams:n}),c(A,{handleScroll:N,products:l,setSortBy:h,sortColum:x,setSortingColum:P,loading:S||_})]})};export{K as default};
