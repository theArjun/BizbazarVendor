import{a as G,r as n,b as e,a$ as J,j as l}from"./index.4f23c09f.js";import{b,c as y}from"./index.esm.476cd3ce.js";import{a as x}from"./apicall.3416e5db.js";import{l as K}from"./quill.snow.aca1e919.js";import{I as Q}from"./ImageUploader.a6cd3c23.js";import{b as X}from"./ProductApi.ec9e3999.js";import{B as c}from"./Breadcrumb.1fc5972d.js";import{F as r}from"./index.87e32118.js";import{B as ee}from"./button.0e0bb488.js";import{C as g}from"./index.cffb9cfd.js";import{I as s}from"./index.334a4467.js";import{S as m}from"./index.421566c6.js";import{m as te}from"./index.ed593c0f.js";import{C as re}from"./index.9fb36eb2.js";import"./axios.0a901153.js";import"./config.93562c2e.js";import"./render.a21f8e67.js";import"./useNotification.ddc3cd5c.js";import"./isEqual.5405dd52.js";import"./ImageUploaderApi.b7b62748.js";import"./apiConfig.6fee151b.js";import"./useMutation.esm.62dcf3b9.js";import"./utils.esm.958af8f4.js";import"./index.9a953548.js";import"./pickAttrs.08767335.js";import"./useMergedState.a9c803d6.js";import"./LoadingOutlined.ad18cc7b.js";import"./useForceUpdate.f84be2ca.js";import"./EyeOutlined.ac35e31d.js";import"./progress.cd81fb2e.js";import"./CheckOutlined.a5fb0c39.js";import"./index.7a8128c4.js";import"./motion.9212238f.js";import"./collapse.7fea9198.js";import"./index.2716beec.js";import"./index.ba3281eb.js";import"./useFlexGapSupport.3166aa6c.js";import"./PlusOutlined.1693ec3e.js";import"./useInfiniteQuery.esm.7b143079.js";import"./useQuery.esm.48f464b8.js";import"./dropdown.c5450427.js";import"./RightOutlined.dab7e2a3.js";import"./Dropdown.af716b86.js";import"./Overflow.1804b708.js";import"./index.04eab99a.js";import"./PurePanel.01378a58.js";import"./Compact.8d51645f.js";import"./DownOutlined.72f23fd5.js";import"./row.dbcb11e5.js";import"./responsiveObserve.16c01648.js";import"./index.2687a7e4.js";import"./TextArea.5556322f.js";import"./statusUtils.c3240a4a.js";import"./SearchOutlined.19f92cba.js";import"./index.48a55223.js";const ae="_container_1y0pa_1",ie="_breadcrumb_create_btn_1y0pa_23",oe="_title_header_1y0pa_37",le="_close_container_1y0pa_47",i={container:ae,breadcrumb_create_btn:ie,title_header:oe,close_container:le};const ct=()=>{G();const[p,I]=n.exports.useState(!0),[C,N]=n.exports.useState(!1),[u,S]=n.exports.useState(!0),[_,w]=n.exports.useState(!0),[k,q]=n.exports.useState([]),[P,F]=n.exports.useState(""),[h,A]=n.exports.useState(!1),[T,f]=n.exports.useState([]),[B,D]=n.exports.useState(0),{isLoading:E,mutate:L,isError:ne}=X(),[v,O]=n.exports.useState({product_main_image_data:{},type_product_main_image_detailed:{},file_product_main_image_detailed:{},product_add_additional_image_data:{},type_product_add_additional_image_detailed:{},file_product_add_additional_image_detailed:{}}),V=[{label:"Simultaneous",value:"P"},{label:"Sequential",value:"S"}],j=[{label:"Forbidden",value:"F"},{label:"Allowed",value:"A"}],R=[{label:"Do not allow customers to add the product to cart",value:"R"},{label:"Allow customers to add the product to cart",value:"P"},{label:"Ask customer to enter the price",value:"A"}],z=[{label:"Yes",value:"B"},{label:"No",value:"D"}];n.exports.useEffect(()=>{h?Z():f([])},[h]);const M=async t=>{const o={products_data:[{...t,category_ids:W(t.category),tax_ids:T,...v}]};L(o,{onSuccess:a=>{console.log(a,"is-product-created")},onError:a=>{console.log(a,"adding-product-error")}})},U=t=>{console.log("Failed:",t)},H=async()=>{let o=(await x({url:"categories"})).data.categories.map((a,d)=>({label:a.category,value:a.category_id,id:a.category_id}));q(o)},W=t=>{let o={};return t&&(t==null||t.map((a,d)=>{o[d]=a})),o},Y=t=>{console.log("search:",t)},Z=async()=>{var o,a;const t=await x({url:"taxes"});if(t.data){let d=(a=(o=t==null?void 0:t.data)==null?void 0:o.taxes)==null?void 0:a.filter($=>$.tax==="VAT");f([...d[0].tax_id])}};return E?e(J,{}):l("div",{className:i.container,children:[e("div",{className:i.breadcrumb_create_btn,children:e("div",{className:"breadcrumb",children:l(c,{children:[e(c.Item,{children:"Home"}),e(c.Item,{children:e("a",{href:"",children:"Products"})}),e(c.Item,{children:e("a",{href:"",children:"Products"})}),e(c.Item,{children:"Add Products"})]})})}),e("div",{className:i.formContainer,children:l(r,{name:"basic",onFinish:M,onFinishFailed:U,autoComplete:"off",initialValues:{tracking:"B",available_qty:1,exceptions_type:"F",max_qty:1,min_qty:1,options_type:"P",zero_price_action:"R",stock:1,amount:1},children:[e(r.Item,{style:{float:"right"},children:e(ee,{disabled:C,type:"primary",htmlType:"submit",children:"Create"})}),l("div",{className:i.information,children:[e("div",{className:"information_title",onClick:()=>I(!p),children:l("h2",{className:i.title_header,children:["Information",p?e(y,{}):e(b,{})]})}),l(g,{className:p?i.information_container:i.close_container,children:[e(r.Item,{label:"Name",name:"product",rules:[{required:!0,message:"Please enter product name!"}],children:e(s,{})}),e(r.Item,{id:"category",label:"Categories",rules:[{required:!0,message:"Select your product category!"}],name:"category",children:e(m,{onClick:()=>H(),showSearch:!0,mode:"tags",placeholder:"Select a category",optionFilterProp:"children",onSearch:Y,filterOption:(t,o)=>{var a;return((a=o==null?void 0:o.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:k})}),e(r.Item,{label:"Price (\u0930\u0941)",name:"price",style:{width:300},rules:[{required:!0,message:"Please  enter product price!"}],children:e(s,{type:"number"})}),e(r.Item,{label:"List price (\u0930\u0941)",name:"list_price",style:{width:300},rules:[{required:!0,message:"Please  enter product price!"}],children:e(s,{type:"number"})}),e(r.Item,{label:"Full description",name:"full_description",rules:[{required:!0,message:"Description is required!"}],children:e(K,{theme:"snow",value:P,onChange:F})}),e(Q,{message:te,uploadedImage:v,setUploadedImage:O,imageCount:B,setImageCount:D,Form:r,setLoading:N})]})]}),l("div",{className:i.options,children:[e("div",{className:"information_title",onClick:()=>S(!u),children:l("h2",{className:i.title_header,children:["Options setting",u?e(y,{}):e(b,{})]})}),l(g,{className:u?i.options_container:i.close_container,children:[e(r.Item,{label:"Options type",name:"options_type",children:e(m,{style:{width:300},options:V.map(t=>({label:t.label,value:t.value}))})}),e(r.Item,{label:"Exceptions type",name:"exceptions_type",children:e(m,{style:{width:300},options:j.map(t=>({label:t.label,value:t.value}))})})]})]}),l("div",{className:i.pricing,children:[l("div",{className:"pricing_title",onClick:()=>w(!_),children:[l("h2",{className:i.title_header,children:["Pricing/ inventory",_?e(y,{}):e(b,{})]})," "]}),l(g,{className:_?i.pricing_container:i.close_container,children:[e(r.Item,{label:"CODE",name:"product_code",rules:[{required:!0,message:"Please enter product name!"}],children:e(s,{type:"text"})}),e(r.Item,{label:"In stock",name:"amount",style:{width:200},children:e(s,{type:"number"})}),e(r.Item,{label:"Zero price action",name:"zero_price_action",children:e(m,{options:R.map(t=>({label:t.label,value:t.value}))})}),e(r.Item,{label:"Track inventory",name:"tracking",extra:"When inventory is tracked, the number of products in stock\r will decrease after each purchase.",children:e(m,{style:{width:300},options:z.map(t=>({label:t.label,value:t.value}))})}),e(r.Item,{label:"Minimum quantity to buy per product",name:"min_qty",style:{width:400},children:e(s,{type:"number"})}),e(r.Item,{label:"Maximum quantity to buy per product",name:"max_qty",style:{width:400},children:e(s,{type:"number"})}),e(r.Item,{label:"No of available quantities",name:"available_qty",style:{width:400},children:e(s,{type:"number"})}),e(r.Item,{label:"Taxes",valuePropName:"yes",name:"tax",children:e(re,{checked:h,onChange:t=>A(t.target.checked),children:"VAT"})})]})]})]})})]})};export{ct as default};
