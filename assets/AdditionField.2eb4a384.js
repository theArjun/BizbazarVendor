import{r as s,b as e,j as d}from"./index.4f23c09f.js";import{l as A}from"./quill.snow.aca1e919.js";import{l as L,m as N}from"./index.esm.476cd3ce.js";import{I as O}from"./ImageUploader.a6cd3c23.js";import{F as r}from"./index.87e32118.js";import{C as k}from"./index.cffb9cfd.js";import{S as g}from"./index.421566c6.js";import{I as l}from"./index.334a4467.js";import{B as z}from"./button.0e0bb488.js";import{m as P}from"./index.ed593c0f.js";import"./isEqual.5405dd52.js";import"./ImageUploaderApi.b7b62748.js";import"./apiConfig.6fee151b.js";import"./axios.0a901153.js";import"./config.93562c2e.js";import"./render.a21f8e67.js";import"./useNotification.ddc3cd5c.js";import"./useMutation.esm.62dcf3b9.js";import"./utils.esm.958af8f4.js";import"./index.9a953548.js";import"./pickAttrs.08767335.js";import"./useMergedState.a9c803d6.js";import"./LoadingOutlined.ad18cc7b.js";import"./useForceUpdate.f84be2ca.js";import"./EyeOutlined.ac35e31d.js";import"./progress.cd81fb2e.js";import"./CheckOutlined.a5fb0c39.js";import"./index.7a8128c4.js";import"./motion.9212238f.js";import"./collapse.7fea9198.js";import"./index.2716beec.js";import"./index.ba3281eb.js";import"./useFlexGapSupport.3166aa6c.js";import"./PlusOutlined.1693ec3e.js";import"./row.dbcb11e5.js";import"./responsiveObserve.16c01648.js";import"./Dropdown.af716b86.js";import"./Overflow.1804b708.js";import"./index.04eab99a.js";import"./statusUtils.c3240a4a.js";import"./DownOutlined.72f23fd5.js";import"./SearchOutlined.19f92cba.js";import"./PurePanel.01378a58.js";import"./Compact.8d51645f.js";import"./index.2687a7e4.js";import"./TextArea.5556322f.js";const W="_search_inputs_lwrgz_1",j="_image_and_desc_lwrgz_17",D="_more_btn_lwrgz_31",B="_image_and_desc_close_lwrgz_37",o={search_inputs:W,image_and_desc:j,more_btn:D,image_and_desc_close:B};const Oe=({categories:h,products:y,setProducts:b})=>{const[m,n]=s.exports.useState(!0),[f,F]=s.exports.useState(!1),[p,x]=s.exports.useState(0),[C,c]=s.exports.useState(0),[u,I]=s.exports.useState({product_main_image_data:{},type_product_main_image_detailed:{},file_product_main_image_detailed:{},product_add_additional_image_data:{},type_product_add_additional_image_detailed:{},file_product_add_additional_image_detailed:{}}),[_]=r.useForm();let w=h.map(t=>({label:t.category,value:t.category_id}));const v=t=>{b([...y,{...t,...u,key:p,category_ids:T(t.category)}]),_.resetFields(),x(p+1),c(0)},S=t=>{console.log("Failed:",t)},M=[{label:"Active",value:"A"},{label:"Disabled",value:"D"},{label:"Hidden",value:"H"}],T=t=>{let i={};return t&&(t==null||t.map((a,q)=>{i[q]=a})),i};return e("div",{children:e(k,{children:d(r,{form:_,layout:"vertical",className:o.form,name:"basic",wrapperCol:{},autoComplete:"off",onFinish:v,onFinishFailed:S,initialValues:{status:"A"},children:[d("div",{className:o.search_inputs,children:[e(r.Item,{label:"Category",name:"category",style:{width:"200px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(g,{showSearch:!0,mode:"tags",placeholder:"Select a category",optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:w})}),e(r.Item,{id:"req",label:"Product name",name:"product",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Code",name:"product_code",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Price",name:"price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"List price",name:"list_price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"In stock",name:"amount",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"Status",name:"status",style:{width:"150px"},children:e(g,{showArrow:!0,optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:M})}),e(r.Item,{label:"More",children:m?e(N,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)}):e(L,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)})}),e("div",{className:o.action_buttons,children:e(r.Item,{children:e(z,{disabled:f,type:"primary",style:{marginTop:"25px"},htmlType:"submit",children:"Add"})})})]}),d("div",{className:m?o.image_and_desc:o.image_and_desc_close,children:[e(r.Item,{style:{width:"100%"},label:"Full description",name:"full_description",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(A,{theme:"snow"})}),e("div",{}),e(O,{message:P,uploadedImage:u,setUploadedImage:I,imageCount:C,setImageCount:c,Form:r,setLoading:F})]})]})})})};export{Oe as default};
