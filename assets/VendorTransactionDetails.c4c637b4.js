import{r as d,b as e,j as n,aU as k}from"./index.559c1fcf.js";import{u as T}from"./useDebounce.34ba1d43.js";import{C as I}from"./index.4fb68f20.js";import{I as D}from"./index.99653d62.js";import{D as C}from"./index.8ee90bcc.js";import{l as N,C as P}from"./index.3d1dbc4d.js";import{T as b}from"./Table.382eff90.js";import{B as x}from"./button.c49f6243.js";import{b as V}from"./ReportsApi.9fa071a0.js";import{B as y}from"./Breadcrumb.a0c48c79.js";import"./Dropdown.40e49efe.js";import"./useMergedState.e59004d6.js";import"./Overflow.0ae650b7.js";import"./index.800256bd.js";import"./motion.c94e2116.js";import"./isEqual.5b0c1f76.js";import"./PlusOutlined.c65b7533.js";import"./index.e42cc673.js";import"./Compact.e0a86bbb.js";import"./TextArea.8f7e52a8.js";import"./statusUtils.8e955008.js";import"./EyeOutlined.acaf92f0.js";import"./SearchOutlined.1243ca95.js";import"./PurePanel.4b452415.js";import"./index.02299b94.js";import"./pickAttrs.09e8e693.js";import"./styleChecker.3de124d5.js";import"./css.d6e3059f.js";import"./index.57a1466e.js";import"./CheckOutlined.61030fcd.js";import"./DownOutlined.218b67e6.js";import"./LoadingOutlined.65af6f9d.js";import"./Pagination.76f30899.js";import"./LeftOutlined.abb276d5.js";import"./RightOutlined.6508ce6f.js";import"./useForceUpdate.3743a744.js";import"./responsiveObserve.0df24820.js";import"./index.7376aa48.js";import"./index.23768e3e.js";import"./dropdown.496de808.js";import"./collapse.4ef0eee8.js";import"./useFlexGapSupport.39a8fd32.js";import"./index.2534c696.js";import"./apicall.a45120ef.js";import"./axios.0a901153.js";import"./config.d6ac9ea8.js";import"./render.6e9f9fbc.js";import"./useNotification.530e6546.js";import"./apicall2.9b40c9fc.js";import"./useInfiniteQuery.esm.273cbf80.js";import"./useQuery.esm.484a4dde.js";import"./utils.esm.f9fc2da8.js";const $="_container_1qg89_1",R={container:$},B="_container_178h8_1",L="_search_inputs_178h8_9",A="_price_container_178h8_21",E="_search_btn_178h8_55",M="_form_178h8_63",j="_formcolumn_178h8_83",q="_dropdownbutton_178h8_101",z="_icon_178h8_109",H="_flex_178h8_135",K="_datepicker_178h8_147",W="_date_178h8_147",F="_span_178h8_163",w={container:B,search_inputs:L,price_container:A,search_btn:E,form:M,formcolumn:j,dropdownbutton:q,icon:z,flex:H,datepicker:K,date:W,span:F};const{RangePicker:G}=C,U=({params:a,setParams:c})=>{const[s,m]=d.exports.useState("");T(()=>{let o={...a};o.vendor=s,c(o)},500,[s]);const l=o=>{var p,_,u,t,i,h;let r={...a};if(o){let f=new Date((p=o[0])==null?void 0:p.$y,(_=o[0])==null?void 0:_.$M,(u=o[0])==null?void 0:u.$D).getTime()/1e3,v=new Date((t=o[1])==null?void 0:t.$y,(i=o[1])==null?void 0:i.$M,(h=o[1])==null?void 0:h.$D).getTime()/1e3;r.time_from=f||"",r.time_to=v||""}else r.time_from="",r.time_to="";c(r)};return e("div",{className:w.container,id:"changeHere",children:e(I,{children:n("div",{className:w.formcolumn,children:[n("label",{children:["Vendor",e(D,{onChange:o=>m(o.target.value)})]}),n("label",{children:["Payout Date ",e("br",{}),e("div",{style:{display:"flex"},children:e(G,{style:{minWidth:"250px"},onChange:o=>l(o)})})]})]})})})},J="_product_info_sw05v_1",O="_product_name_sw05v_9",Q="_icons_sw05v_19",X="_order_status_sw05v_51",Y="_gross_total_sw05v_59",Z="_openSpinner_sw05v_67",tt="_closeSpinner_sw05v_75",ot="_positionabsolute_sw05v_83",et="_print_sw05v_95",nt="_margintop_sw05v_103",g={product_info:J,product_name:O,icons:Q,order_status:X,gross_total:Y,openSpinner:Z,closeSpinner:tt,positionabsolute:ot,print:et,margintop:nt},rt=({accountOrderDetails:a,loading:c,handleScroll:s})=>{const[m,l]=d.exports.useState(!1),o=k();d.exports.useEffect(()=>{var t;return(t=document.querySelector("#reportaccount > div > div.ant-table-body"))==null||t.addEventListener("scroll",s),()=>{var i;(i=document.querySelector("#reportaccount > div > div.ant-table-body "))==null||i.removeEventListener("scroll",s)}},[]);const r=d.exports.useRef(),p=[{title:"Vendor",dataIndex:"vendor",key:"vendor"},{title:"Vendor name",dataIndex:"vendor_name",key:"vendor_name"},{title:"Total order amount",dataIndex:"total_order_amount",key:"total_order_amount",render:t=>n("div",{children:["\u0930\u0941",t]})},{title:"Commission",dataIndex:"commission",key:"commission",render:t=>n("div",{children:["\u0930\u0941",t]})},{title:"Total shipping",dataIndex:"total_shipping",key:"total_shipping",render:t=>n("div",{children:["\u0930\u0941",t]})},{title:"Total withdrawal",dataIndex:"total_withdrawal",key:"total_withdrawal",render:t=>n("div",{children:["\u0930\u0941",t]})},{title:"Total payout addition",dataIndex:"total_payout_addition",key:"total_payout_addition",render:t=>n("div",{children:["\u0930\u0941",t]})},{title:"Total payout deduction",dataIndex:"total_payout_deduction",key:"total_payout_deduction",render:t=>n("div",{children:["\u0930\u0941",t]})},{title:"Balance",dataIndex:"balance",key:"balance",render:t=>n("div",{children:["\u0930\u0941",t]})}],_=N.exports.useReactToPrint({content:()=>r.current,onAfterPrint:()=>l(!1)}),u=()=>{l(!0);const t=setTimeout(_,10);return()=>clearTimeout(t)};return n("div",{children:[e(b,{id:"reportaccount",columns:p,rowKey:"company_id",loading:c,dataSource:a,pagination:!1,scroll:{y:o.height>670?500:300,x:1500}}),n("div",{className:g.positionabsolute,children:[e(x,{className:g.print,onClick:u,children:"print"}),e(x,{children:e(P,{filename:"Expense_Table.csv",data:a,className:"btn btn-primary",onClick:()=>{},children:"Export to CSV"})})]}),m&&e("div",{className:g.margintop}),m&&e(b,{id:"reporprintTableaccount1",className:g.printTable,style:{zIndex:-1},columns:p,ref:r,rowKey:"order_id",loading:c,dataSource:a,pagination:!1})]})},it={time_from:"",time_to:"",vendor:""},ro=()=>{const[a,c]=d.exports.useState(it),[s,m]=d.exports.useState(!1),{isLoading:l,data:o,fetchNextPage:r,isFetchingNextPage:p}=V(a);let _=d.exports.useMemo(()=>{var i;let t=[];return(i=o==null?void 0:o.pages)==null||i.map(h=>{var f,v;(v=(f=h==null?void 0:h.data)==null?void 0:f.report)==null||v.map(S=>{t.push(S)})}),t||[]},[o]);const u=t=>{const i=t.target.scrollTop+t.target.offsetHeight+100>t.target.scrollHeight;m(i)};return T(()=>{!s||r()},300,[s]),n("div",{className:R.container,children:[n(y,{children:[e(y.Item,{children:"Reports"}),e(y.Item,{children:"Vendor Transaction Details"})]}),e(U,{params:a,setParams:c}),e(rt,{accountOrderDetails:_,handleScroll:u,loading:l||p})]})};export{ro as default};
