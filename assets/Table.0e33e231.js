import{r as p,aU as w,a as C,j as d,b as r,X as s}from"./index.0eae6df2.js";import{l as N,C as P}from"./index.6a329b30.js";import{B as h}from"./button.bb92e4e7.js";import{T as y}from"./Table.c3ea0e52.js";import{T as E}from"./index.d9a05769.js";import"./Compact.394e1fff.js";import"./LoadingOutlined.8c764613.js";import"./motion.25de7d91.js";import"./isEqual.7557051f.js";import"./useMergedState.e128dcb1.js";import"./pickAttrs.8c22c2db.js";import"./styleChecker.c2755425.js";import"./index.00b7436e.js";import"./css.d6e3059f.js";import"./index.c17da8cc.js";import"./Overflow.0bb1c80c.js";import"./statusUtils.bdd687b0.js";import"./CheckOutlined.aebd02a2.js";import"./DownOutlined.0d88a6a7.js";import"./SearchOutlined.83cc36da.js";import"./PurePanel.6b30b4ea.js";import"./Pagination.e850c34f.js";import"./LeftOutlined.3acbf618.js";import"./RightOutlined.44374471.js";import"./useForceUpdate.36181d63.js";import"./responsiveObserve.b22e885b.js";import"./index.ae11ed19.js";import"./index.db80b566.js";import"./index.ed0030b1.js";import"./dropdown.04f8b523.js";import"./Dropdown.a44dcf86.js";import"./index.a53e5976.js";import"./collapse.d7e28f1d.js";import"./useFlexGapSupport.26f67e3e.js";import"./index.7079f3c0.js";import"./index.e0155dc4.js";import"./TextArea.79f23aac.js";import"./EyeOutlined.e2533ce1.js";const U="_product_info_vlcms_1",A="_product_name_vlcms_9",L="_icons_vlcms_19",j="_order_status_vlcms_51",F="_gross_total_vlcms_59",R="_openSpinner_vlcms_67",V="_closeSpinner_vlcms_75",q="_positionabsolute_vlcms_81",z="_print_vlcms_93",M="_margintop_vlcms_101",i={product_info:U,product_name:A,icons:L,order_status:j,gross_total:F,openSpinner:R,closeSpinner:V,positionabsolute:q,print:z,margintop:M},B={A:"Admin",C:"Customer",V:"Vendor"},wt=({data:a,loading:g,status:v,handleScroll:c})=>{const[l,m]=p.exports.useState(!1),x=w(),_=p.exports.useRef(),b=C();p.exports.useEffect(()=>{var t;return(t=document.querySelector("#reportaccount > div > div.ant-table-body"))==null||t.addEventListener("scroll",c),()=>{var e;(e=document.querySelector("#reportaccount > div > div.ant-table-body"))==null||e.removeEventListener("scroll",c)}},[c]);const S=t=>{const e=new Date(parseInt(t)*1e3),o=e.toLocaleString("en-US",{year:"numeric",month:"short",day:"2-digit"}),n=e.toLocaleString("en-US",{hour:"2-digit",minute:"numeric"});return o+", "+n},f=N.exports.useReactToPrint({content:()=>_.current,onAfterPrint:()=>m(!1)}),k=()=>{m(!0);const t=setTimeout(f,10);return()=>clearTimeout(t)},I=(t,e)=>{var n;const[o]=v.filter(T=>T.status===t);return r("div",{children:r(E,{className:i.dpContainer,color:(n=o==null?void 0:o.params)==null?void 0:n.color,children:o==null?void 0:o.description})})},u=[{title:"Order Id",dataIndex:"order_id",key:"order_id",render:(t,e)=>d("div",{onClick:()=>b(`/Orders/orders details/${e.order_id}`),style:{color:"blue",cursor:"pointer"},children:["#",t]}),width:100},{title:"Customer",dataIndex:"customer",key:"customer_id",width:150,render:(t,e)=>r("div",{children:t})},{title:"Phone",dataIndex:"phone",key:"order_id",width:150},{title:"E-mail",dataIndex:"email",key:"order_id",width:250},{title:"Order date",dataIndex:"timestamp",key:"order_id",width:200,render:t=>S(t)},{title:"Order status",dataIndex:"status",key:"order_id",width:150,render:(t,e)=>I(t)},{title:"Quantity",dataIndex:"qty",key:"order_id"},{title:"Product name",dataIndex:"order_detail",key:"order_id",width:150,render:t=>{var e;return r(s.Fragment,{children:r("div",{children:(e=t[0])==null?void 0:e.product_name})})}},{title:"Category",dataIndex:"order_detail",key:"category",width:150,render:t=>{var e;return r(s.Fragment,{children:r("div",{children:(e=t[0])==null?void 0:e.category})})}},{title:"Price",dataIndex:"order_detail",key:"price",width:150,render:t=>{var e;return r(s.Fragment,{children:r("div",{children:(e=t[0])==null?void 0:e.price})})}},{title:"User type",dataIndex:"user_type",key:"user_type",render:t=>B[t]},{title:"User group",dataIndex:"usergroup"}];return d("div",{className:i.report_table_container,children:[d("div",{className:i.positionabsolute,children:[r(h,{className:i.print,onClick:k,children:"print"}),r(h,{children:r(P,{filename:"Monthly_Report_Table.csv",data:a,className:"btn btn-primary",onClick:()=>{},children:"Export to CSV"})})]}),r(y,{id:"reportaccount",columns:u,loading:g,rowKey:"order_id",dataSource:a,pagination:!1,scroll:{y:x.height>670?500:300,x:1800}}),l&&r("div",{className:i.margintop}),l&&d(s.Fragment,{children:[r("h2",{style:{textAlign:"center"},children:"Monthly order report"}),r(y,{id:"reporprintTableaccount1",className:i.printTable,style:{zIndex:100},columns:u,ref:_,rowKey:"order_id",dataSource:a,pagination:!1})]})]})};export{wt as default};
