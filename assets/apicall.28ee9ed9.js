import{a as w}from"./axios.0a901153.js";import{h as y}from"./index.0eae6df2.js";import{c as d,n as s}from"./config.a608364a.js";const _=async({method:o="get",url:g="",data:f={},body:m="",auth:A=!1,headers:h={"Content-Type":"application/json","Access-Control-Allow-Origin":!0}})=>{var a,i,n,c,l,p,u;const t=localStorage.getItem("token");let r="/api/";A||(r=r+"vendors/"+((a=JSON.parse(localStorage.getItem("userinfo")))==null?void 0:a.id)+"/");try{const e=await w({method:o,url:r+g,data:f,body:m,auth:{username:t||d.ADMIN_USERNAME,password:t?"":d.ADMIN_API_KEY},headers:h});return o!="get"&&(((n=(i=e==null?void 0:e.data)==null?void 0:i.result)==null?void 0:n.product_ids)=="No new products were created"?s.error({message:(l=(c=e==null?void 0:e.data)==null?void 0:c.result)==null?void 0:l.product_ids}):s.success({message:"Sucessfully Done"})),e}catch(e){return((p=e==null?void 0:e.response)==null?void 0:p.status)===401&&(y(),s.error({message:"Login required!",description:"Your session ended please login first to enter into the system"})),((u=e==null?void 0:e.response)==null?void 0:u.status)===403&&s.error({message:"Process Fail",description:"Error code: 403-> You do not have permission to access this resource"}),o!="get"&&s.error({message:"Process Fail",description:e.message}),e.response.status}};export{_ as a};
