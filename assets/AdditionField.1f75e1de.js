import{r as s,b as e,j as d}from"./index.2fea9b70.js";import{l as A}from"./quill.snow.98491457.js";import{l as L,m as N}from"./index.esm.2225375c.js";import{I as O}from"./ImageUploader.461ecd39.js";import{F as r}from"./index.45329f15.js";import{C as k}from"./index.576a1fa8.js";import{S as g}from"./index.5de7cfda.js";import{I as l}from"./index.d50c1940.js";import{B as z}from"./button.8d7ffa1a.js";import{m as P}from"./index.f682c9df.js";import"./isEqual.cc883666.js";import"./ImageUploaderApi.0a2829c8.js";import"./apiConfig.eaaa62ce.js";import"./axios.0a901153.js";import"./config.42e56451.js";import"./render.a8adff37.js";import"./useNotification.7663c963.js";import"./useMutation.esm.8bfe2ba0.js";import"./utils.esm.061cfd12.js";import"./index.a81033fd.js";import"./pickAttrs.18ca283f.js";import"./useMergedState.acd959e8.js";import"./LoadingOutlined.3aeec88a.js";import"./useForceUpdate.997a6267.js";import"./EyeOutlined.b9911e82.js";import"./progress.20aceab1.js";import"./CheckOutlined.45292deb.js";import"./index.de03715e.js";import"./motion.cd9ea6a7.js";import"./collapse.3b35c5c9.js";import"./index.452d91e1.js";import"./index.d768f20b.js";import"./useFlexGapSupport.a59bf389.js";import"./PlusOutlined.f1c18f31.js";import"./row.7750d1e9.js";import"./responsiveObserve.6b5848d4.js";import"./Dropdown.1d3385b2.js";import"./Overflow.1e0ec03a.js";import"./index.f5b4f9b0.js";import"./statusUtils.ab87837f.js";import"./DownOutlined.653e5bd2.js";import"./SearchOutlined.3b0489e1.js";import"./PurePanel.7897ccec.js";import"./Compact.c7a1bef5.js";import"./index.90d07be9.js";import"./TextArea.38af062b.js";const W="_search_inputs_lwrgz_1",j="_image_and_desc_lwrgz_17",D="_more_btn_lwrgz_31",B="_image_and_desc_close_lwrgz_37",o={search_inputs:W,image_and_desc:j,more_btn:D,image_and_desc_close:B};const Oe=({categories:h,products:y,setProducts:b})=>{const[m,n]=s.exports.useState(!0),[f,F]=s.exports.useState(!1),[p,x]=s.exports.useState(0),[C,c]=s.exports.useState(0),[u,I]=s.exports.useState({product_main_image_data:{},type_product_main_image_detailed:{},file_product_main_image_detailed:{},product_add_additional_image_data:{},type_product_add_additional_image_detailed:{},file_product_add_additional_image_detailed:{}}),[_]=r.useForm();let w=h.map(t=>({label:t.category,value:t.category_id}));const v=t=>{b([...y,{...t,...u,key:p,category_ids:T(t.category)}]),_.resetFields(),x(p+1),c(0)},S=t=>{console.log("Failed:",t)},M=[{label:"Active",value:"A"},{label:"Disabled",value:"D"},{label:"Hidden",value:"H"}],T=t=>{let i={};return t&&(t==null||t.map((a,q)=>{i[q]=a})),i};return e("div",{children:e(k,{children:d(r,{form:_,layout:"vertical",className:o.form,name:"basic",wrapperCol:{},autoComplete:"off",onFinish:v,onFinishFailed:S,initialValues:{status:"A"},children:[d("div",{className:o.search_inputs,children:[e(r.Item,{label:"Category",name:"category",style:{width:"200px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(g,{showSearch:!0,mode:"tags",placeholder:"Select a category",optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:w})}),e(r.Item,{id:"req",label:"Product name",name:"product",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Code",name:"product_code",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Price",name:"price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"List price",name:"list_price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"In stock",name:"amount",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"Status",name:"status",style:{width:"150px"},children:e(g,{showArrow:!0,optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:M})}),e(r.Item,{label:"More",children:m?e(N,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)}):e(L,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)})}),e("div",{className:o.action_buttons,children:e(r.Item,{children:e(z,{disabled:f,type:"primary",style:{marginTop:"25px"},htmlType:"submit",children:"Add"})})})]}),d("div",{className:m?o.image_and_desc:o.image_and_desc_close,children:[e(r.Item,{style:{width:"100%"},label:"Full description",name:"full_description",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(A,{theme:"snow"})}),e("div",{}),e(O,{message:P,uploadedImage:u,setUploadedImage:I,imageCount:C,setImageCount:c,Form:r,setLoading:F})]})]})})})};export{Oe as default};
