import{r as n,b as o,X as R,j as g}from"./index.2fea9b70.js";import{F as u}from"./index.45329f15.js";import{U as T}from"./index.a81033fd.js";import{M as J}from"./index.452d91e1.js";import{P as q}from"./PlusOutlined.f1c18f31.js";const B="_close_upload_16qsv_3",G="_open_upload_16qsv_9",_={close_upload:B,open_upload:G},M=l=>new Promise((i,a)=>{const r=new FileReader;r.readAsDataURL(l),r.onload=()=>i(r.result),r.onerror=p=>a(p)}),z=({message:l,setImage:i,imageList:a,deleteImage:r,setDeleteImage:p,logoData:d,setLogoData:v})=>{const[h,c]=n.exports.useState(!1),[f,m]=n.exports.useState(!0),[w,P]=n.exports.useState(""),[x,j]=n.exports.useState(""),[s,y]=n.exports.useState(a.length?[...a]:[]);let F=e=>{let t=e.target.files[0].name.split(".").pop();(t==="jpeg"||t==="png"||t==="jpg")&&i(e.target.files[0])};const O=()=>c(!1),U=async e=>{!e.url&&!e.preview&&(e.preview=await M(e.originFileObj)),P(e.url||e.preview),c(!0),j(e.name||e.url.substring(e.url.lastIndexOf("/")+1))},C=({fileList:e})=>{f&&y(e)},I=e=>{let t=e.name.split(".").pop();return t==="jpeg"||t==="png"||t==="jpg"?m(!0):(m(!1),l.error("You can only upload JPG/PNG file!")),!1},S=e=>{if(d){let t={...d};t.removed_image_pair_ids[0]?t.removed_image_pair_ids[1]=e.image_id:t.removed_image_pair_ids[0]=e.image_id,v(t)}if(r){let t={...r};t.image_id=e==null?void 0:e.image_id,t.pair_id=e==null?void 0:e.pair_id,p(t)}i("")},b=g("div",{children:[o(q,{}),o("div",{style:{marginTop:8},children:"Upload"})]});return o(R.Fragment,{children:o(u,{children:o(u.Item,{name:"image",onChange:F,children:g("div",{className:s!=null&&s.length?_.close_upload:_.open_upload,children:[o(T,{action:"#",listType:"picture-card",fileList:s,onPreview:U,onChange:C,beforeUpload:I,onRemove:S,children:s.length>=8?null:b}),o(J,{open:h,title:x,footer:null,onCancel:O,children:o("img",{alt:"example",style:{width:"100%"},src:w})})]})})})})};export{z as I};
