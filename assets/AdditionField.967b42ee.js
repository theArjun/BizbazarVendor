import{r as s,b as e,j as d}from"./index.559c1fcf.js";import{l as A}from"./quill.snow.f0676353.js";import{l as L,m as N}from"./index.esm.267eb871.js";import{I as O}from"./ImageUploader.09c6049f.js";import{F as r}from"./index.d3e6f2d0.js";import{C as k}from"./index.4fb68f20.js";import{S as g}from"./index.57a1466e.js";import{I as l}from"./index.99653d62.js";import{B as z}from"./button.c49f6243.js";import{m as P}from"./index.9a718a0a.js";import"./isEqual.5b0c1f76.js";import"./ImageUploaderApi.808ee727.js";import"./apiConfig.819e96ae.js";import"./axios.0a901153.js";import"./config.d6ac9ea8.js";import"./render.6e9f9fbc.js";import"./useNotification.530e6546.js";import"./useMutation.esm.3622c9ad.js";import"./utils.esm.f9fc2da8.js";import"./index.3e88b7ea.js";import"./pickAttrs.09e8e693.js";import"./useMergedState.e59004d6.js";import"./LoadingOutlined.65af6f9d.js";import"./useForceUpdate.3743a744.js";import"./EyeOutlined.acaf92f0.js";import"./progress.846f0c77.js";import"./CheckOutlined.61030fcd.js";import"./index.02299b94.js";import"./motion.c94e2116.js";import"./collapse.4ef0eee8.js";import"./index.e5e0e49c.js";import"./index.38297928.js";import"./useFlexGapSupport.39a8fd32.js";import"./PlusOutlined.c65b7533.js";import"./row.1adc50e8.js";import"./responsiveObserve.0df24820.js";import"./Dropdown.40e49efe.js";import"./Overflow.0ae650b7.js";import"./index.800256bd.js";import"./statusUtils.8e955008.js";import"./DownOutlined.218b67e6.js";import"./SearchOutlined.1243ca95.js";import"./PurePanel.4b452415.js";import"./Compact.e0a86bbb.js";import"./index.e42cc673.js";import"./TextArea.8f7e52a8.js";const W="_search_inputs_lwrgz_1",j="_image_and_desc_lwrgz_17",D="_more_btn_lwrgz_31",B="_image_and_desc_close_lwrgz_37",o={search_inputs:W,image_and_desc:j,more_btn:D,image_and_desc_close:B};const Oe=({categories:h,products:y,setProducts:b})=>{const[m,n]=s.exports.useState(!0),[f,F]=s.exports.useState(!1),[p,x]=s.exports.useState(0),[C,c]=s.exports.useState(0),[u,I]=s.exports.useState({product_main_image_data:{},type_product_main_image_detailed:{},file_product_main_image_detailed:{},product_add_additional_image_data:{},type_product_add_additional_image_detailed:{},file_product_add_additional_image_detailed:{}}),[_]=r.useForm();let w=h.map(t=>({label:t.category,value:t.category_id}));const v=t=>{b([...y,{...t,...u,key:p,category_ids:T(t.category)}]),_.resetFields(),x(p+1),c(0)},S=t=>{console.log("Failed:",t)},M=[{label:"Active",value:"A"},{label:"Disabled",value:"D"},{label:"Hidden",value:"H"}],T=t=>{let i={};return t&&(t==null||t.map((a,q)=>{i[q]=a})),i};return e("div",{children:e(k,{children:d(r,{form:_,layout:"vertical",className:o.form,name:"basic",wrapperCol:{},autoComplete:"off",onFinish:v,onFinishFailed:S,initialValues:{status:"A"},children:[d("div",{className:o.search_inputs,children:[e(r.Item,{label:"Category",name:"category",style:{width:"200px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(g,{showSearch:!0,mode:"tags",placeholder:"Select a category",optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:w})}),e(r.Item,{id:"req",label:"Product name",name:"product",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Code",name:"product_code",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"text"})}),e(r.Item,{label:"Price",name:"price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"List price",name:"list_price",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"In stock",name:"amount",style:{minWidth:"80px"},rules:[{required:!0,message:"The Field is Mandatory"}],children:e(l,{type:"number"})}),e(r.Item,{label:"Status",name:"status",style:{width:"150px"},children:e(g,{showArrow:!0,optionFilterProp:"children",filterOption:(t,i)=>{var a;return((a=i==null?void 0:i.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:M})}),e(r.Item,{label:"More",children:m?e(N,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)}):e(L,{color:"#7367f0",className:o.more_btn,onClick:()=>n(!m)})}),e("div",{className:o.action_buttons,children:e(r.Item,{children:e(z,{disabled:f,type:"primary",style:{marginTop:"25px"},htmlType:"submit",children:"Add"})})})]}),d("div",{className:m?o.image_and_desc:o.image_and_desc_close,children:[e(r.Item,{style:{width:"100%"},label:"Full description",name:"full_description",rules:[{required:!0,message:"The Field is Mandatory"}],children:e(A,{theme:"snow"})}),e("div",{}),e(O,{message:P,uploadedImage:u,setUploadedImage:I,imageCount:C,setImageCount:c,Form:r,setLoading:F})]})]})})})};export{Oe as default};
