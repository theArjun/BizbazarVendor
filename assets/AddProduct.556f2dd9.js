import{a as G,r as n,b as e,a$ as J,j as l}from"./index.0eae6df2.js";import{b,c as y}from"./index.esm.24474ea7.js";import{a as x}from"./apicall.28ee9ed9.js";import{l as K}from"./quill.snow.2dff12ff.js";import{I as Q}from"./ImageUploader.88f45e15.js";import{b as X}from"./ProductApi.1a51d991.js";import{B as c}from"./Breadcrumb.3e55c3b1.js";import{F as r}from"./index.9a251b5a.js";import{B as ee}from"./button.bb92e4e7.js";import{C as g}from"./index.1b605c09.js";import{I as s}from"./index.e0155dc4.js";import{S as m}from"./index.c17da8cc.js";import{m as te}from"./index.ee32d3ae.js";import{C as re}from"./index.db80b566.js";import"./axios.0a901153.js";import"./config.a608364a.js";import"./render.36f71972.js";import"./useNotification.b0fd12ef.js";import"./isEqual.7557051f.js";import"./ImageUploaderApi.93f6c28d.js";import"./apiConfig.422f7f8e.js";import"./useMutation.esm.b9a3c183.js";import"./utils.esm.9d23a50b.js";import"./index.7a807c9f.js";import"./pickAttrs.8c22c2db.js";import"./useMergedState.e128dcb1.js";import"./LoadingOutlined.8c764613.js";import"./useForceUpdate.36181d63.js";import"./EyeOutlined.e2533ce1.js";import"./progress.04d00784.js";import"./CheckOutlined.aebd02a2.js";import"./index.a53e5976.js";import"./motion.25de7d91.js";import"./collapse.d7e28f1d.js";import"./index.faab0a1d.js";import"./index.bbe2afa4.js";import"./useFlexGapSupport.26f67e3e.js";import"./PlusOutlined.bcf114a1.js";import"./useInfiniteQuery.esm.39b60b71.js";import"./useQuery.esm.a226e4a2.js";import"./dropdown.04f8b523.js";import"./RightOutlined.44374471.js";import"./Dropdown.a44dcf86.js";import"./Overflow.0bb1c80c.js";import"./index.00b7436e.js";import"./PurePanel.6b30b4ea.js";import"./Compact.394e1fff.js";import"./DownOutlined.0d88a6a7.js";import"./row.cc463873.js";import"./responsiveObserve.b22e885b.js";import"./index.ae11ed19.js";import"./TextArea.79f23aac.js";import"./statusUtils.bdd687b0.js";import"./SearchOutlined.83cc36da.js";import"./index.ed0030b1.js";const ae="_container_1y0pa_1",ie="_breadcrumb_create_btn_1y0pa_23",oe="_title_header_1y0pa_37",le="_close_container_1y0pa_47",i={container:ae,breadcrumb_create_btn:ie,title_header:oe,close_container:le};const ct=()=>{G();const[p,I]=n.exports.useState(!0),[C,N]=n.exports.useState(!1),[u,S]=n.exports.useState(!0),[_,w]=n.exports.useState(!0),[k,q]=n.exports.useState([]),[P,F]=n.exports.useState(""),[h,A]=n.exports.useState(!1),[T,f]=n.exports.useState([]),[B,D]=n.exports.useState(0),{isLoading:E,mutate:L,isError:ne}=X(),[v,O]=n.exports.useState({product_main_image_data:{},type_product_main_image_detailed:{},file_product_main_image_detailed:{},product_add_additional_image_data:{},type_product_add_additional_image_detailed:{},file_product_add_additional_image_detailed:{}}),V=[{label:"Simultaneous",value:"P"},{label:"Sequential",value:"S"}],j=[{label:"Forbidden",value:"F"},{label:"Allowed",value:"A"}],R=[{label:"Do not allow customers to add the product to cart",value:"R"},{label:"Allow customers to add the product to cart",value:"P"},{label:"Ask customer to enter the price",value:"A"}],z=[{label:"Yes",value:"B"},{label:"No",value:"D"}];n.exports.useEffect(()=>{h?Z():f([])},[h]);const M=async t=>{const o={products_data:[{...t,category_ids:W(t.category),tax_ids:T,...v}]};L(o,{onSuccess:a=>{console.log(a,"is-product-created")},onError:a=>{console.log(a,"adding-product-error")}})},U=t=>{console.log("Failed:",t)},H=async()=>{let o=(await x({url:"categories"})).data.categories.map((a,d)=>({label:a.category,value:a.category_id,id:a.category_id}));q(o)},W=t=>{let o={};return t&&(t==null||t.map((a,d)=>{o[d]=a})),o},Y=t=>{console.log("search:",t)},Z=async()=>{var o,a;const t=await x({url:"taxes"});if(t.data){let d=(a=(o=t==null?void 0:t.data)==null?void 0:o.taxes)==null?void 0:a.filter($=>$.tax==="VAT");f([...d[0].tax_id])}};return E?e(J,{}):l("div",{className:i.container,children:[e("div",{className:i.breadcrumb_create_btn,children:e("div",{className:"breadcrumb",children:l(c,{children:[e(c.Item,{children:"Home"}),e(c.Item,{children:e("a",{href:"",children:"Products"})}),e(c.Item,{children:e("a",{href:"",children:"Products"})}),e(c.Item,{children:"Add Products"})]})})}),e("div",{className:i.formContainer,children:l(r,{name:"basic",onFinish:M,onFinishFailed:U,autoComplete:"off",initialValues:{tracking:"B",available_qty:1,exceptions_type:"F",max_qty:1,min_qty:1,options_type:"P",zero_price_action:"R",stock:1,amount:1},children:[e(r.Item,{style:{float:"right"},children:e(ee,{disabled:C,type:"primary",htmlType:"submit",children:"Create"})}),l("div",{className:i.information,children:[e("div",{className:"information_title",onClick:()=>I(!p),children:l("h2",{className:i.title_header,children:["Information",p?e(y,{}):e(b,{})]})}),l(g,{className:p?i.information_container:i.close_container,children:[e(r.Item,{label:"Name",name:"product",rules:[{required:!0,message:"Please enter product name!"}],children:e(s,{})}),e(r.Item,{id:"category",label:"Categories",rules:[{required:!0,message:"Select your product category!"}],name:"category",children:e(m,{onClick:()=>H(),showSearch:!0,mode:"tags",placeholder:"Select a category",optionFilterProp:"children",onSearch:Y,filterOption:(t,o)=>{var a;return((a=o==null?void 0:o.label)!=null?a:"").toLowerCase().includes(t.toLowerCase())},options:k})}),e(r.Item,{label:"Price (\u0930\u0941)",name:"price",style:{width:300},rules:[{required:!0,message:"Please  enter product price!"}],children:e(s,{type:"number"})}),e(r.Item,{label:"List price (\u0930\u0941)",name:"list_price",style:{width:300},rules:[{required:!0,message:"Please  enter product price!"}],children:e(s,{type:"number"})}),e(r.Item,{label:"Full description",name:"full_description",rules:[{required:!0,message:"Description is required!"}],children:e(K,{theme:"snow",value:P,onChange:F})}),e(Q,{message:te,uploadedImage:v,setUploadedImage:O,imageCount:B,setImageCount:D,Form:r,setLoading:N})]})]}),l("div",{className:i.options,children:[e("div",{className:"information_title",onClick:()=>S(!u),children:l("h2",{className:i.title_header,children:["Options setting",u?e(y,{}):e(b,{})]})}),l(g,{className:u?i.options_container:i.close_container,children:[e(r.Item,{label:"Options type",name:"options_type",children:e(m,{style:{width:300},options:V.map(t=>({label:t.label,value:t.value}))})}),e(r.Item,{label:"Exceptions type",name:"exceptions_type",children:e(m,{style:{width:300},options:j.map(t=>({label:t.label,value:t.value}))})})]})]}),l("div",{className:i.pricing,children:[l("div",{className:"pricing_title",onClick:()=>w(!_),children:[l("h2",{className:i.title_header,children:["Pricing/ inventory",_?e(y,{}):e(b,{})]})," "]}),l(g,{className:_?i.pricing_container:i.close_container,children:[e(r.Item,{label:"CODE",name:"product_code",rules:[{required:!0,message:"Please enter product name!"}],children:e(s,{type:"text"})}),e(r.Item,{label:"In stock",name:"amount",style:{width:200},children:e(s,{type:"number"})}),e(r.Item,{label:"Zero price action",name:"zero_price_action",children:e(m,{options:R.map(t=>({label:t.label,value:t.value}))})}),e(r.Item,{label:"Track inventory",name:"tracking",extra:"When inventory is tracked, the number of products in stock\r will decrease after each purchase.",children:e(m,{style:{width:300},options:z.map(t=>({label:t.label,value:t.value}))})}),e(r.Item,{label:"Minimum quantity to buy per product",name:"min_qty",style:{width:400},children:e(s,{type:"number"})}),e(r.Item,{label:"Maximum quantity to buy per product",name:"max_qty",style:{width:400},children:e(s,{type:"number"})}),e(r.Item,{label:"No of available quantities",name:"available_qty",style:{width:400},children:e(s,{type:"number"})}),e(r.Item,{label:"Taxes",valuePropName:"yes",name:"tax",children:e(re,{checked:h,onChange:t=>A(t.target.checked),children:"VAT"})})]})]})]})})]})};export{ct as default};
