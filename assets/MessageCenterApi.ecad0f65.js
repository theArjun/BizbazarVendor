import{A as s}from"./apiConfig.422f7f8e.js";import{u}from"./useInfiniteQuery.esm.39b60b71.js";import{u as _}from"./useQuery.esm.a226e4a2.js";import{u as a}from"./useMutation.esm.b9a3c183.js";import{n as d}from"./config.a608364a.js";const i=50,h=e=>u({queryKey:["admin_messages",e],queryFn:({pageParam:r=1})=>s.get(`MessageCenter?page=${r}&items_per_page=${i}&communication_type=vendor_to_admin&period=C&time_from=${e.time_from}&time_to=${e.time_to}`),getNextPageParam:(r,c)=>{var t,o,n,m;if(!(((o=Object.values(((t=r==null?void 0:r.data)==null?void 0:t.threads)||{}))==null?void 0:o.length)<i))return r.nextCursor=parseInt((m=(n=r==null?void 0:r.data)==null?void 0:n.search)==null?void 0:m.page)+1},refetchOnWindowFocus:!1}),C=e=>_({queryKey:["admin_messages",e],queryFn:()=>s.get(`MessageCenter?communication_type=vendor_to_admin&thread_id=${e}`)}),$=()=>a({mutationFn:e=>s.post("MessageCenter",e)}),F=()=>a({mutationFn:e=>s.put(`MessageCenter/${e.message.thread_id}`,e),onError:e=>{d.error({message:"Failed to send message",description:e.message})}}),q=e=>u({queryKey:["customer_messages",e],queryFn:({pageParam:r=1})=>s.get(`MessageCenter?page=${r}&items_per_page=${i}&communication_type=vendor_to_customer&period=C&customer_name=${e.customer_name}&time_from=${e.time_from}&time_to=${e.time_to}`),getNextPageParam:(r,c)=>{var t,o,n,m;if(!(((o=Object.values(((t=r==null?void 0:r.data)==null?void 0:t.threads)||{}))==null?void 0:o.length)<i))return r.nextCursor=parseInt((m=(n=r==null?void 0:r.data)==null?void 0:n.search)==null?void 0:m.page)+1},refetchOnWindowFocus:!1}),v=e=>_({queryKey:["customer_messages",e],queryFn:()=>s.get(`MessageCenter?communication_type=vendor_to_customer&thread_id=${e}`)});export{v as a,F as b,C as c,h as d,q as g,$ as u};
